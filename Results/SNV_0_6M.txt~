


sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 9DA31620334BD75D9DCB49F368818C72E52529D4


echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu xenial/mongodb-org/4.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-4.0.list



sudo apt-get install -y mongodb-org



sudo service mongod start




mongoimport --db jsonsubONEK --collection sub --drop --file ~/cpp_codes/Json-LD/output/output_ref/out_onek_json_ld_sub.json --jsonArray



################ Installing




ubuntu@dm:~$ sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 9DA31620334BD75D9DCB49F368818C72E52529D4
Executing: /tmp/tmp.2Bfyau8ybi/gpg.1.sh --keyserver
hkp://keyserver.ubuntu.com:80
--recv
9DA31620334BD75D9DCB49F368818C72E52529D4
gpg: requesting key E52529D4 from hkp server keyserver.ubuntu.com
gpg: key E52529D4: "MongoDB 4.0 Release Signing Key <packaging@mongodb.com>" not changed
gpg: Total number processed: 1
gpg:              unchanged: 1
ubuntu@dm:~$ echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu xenial/mongodb-org/4.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-4.0.list
deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu xenial/mongodb-org/4.0 multiverse
ubuntu@dm:~$ sudo apt-get update
Ign:1 http://developer.download.nvidia.com/compute/cuda/repos/ubuntu1604/x86_64  InRelease   
Hit:2 http://developer.download.nvidia.com/compute/cuda/repos/ubuntu1604/x86_64  Release     
Ign:3 https://repo.mongodb.org/apt/ubuntu xenial/mongodb-org/4.0 InRelease                           
Hit:4 http://security.ubuntu.com/ubuntu xenial-security InRelease                                    
Hit:6 https://repo.mongodb.org/apt/ubuntu xenial/mongodb-org/4.0 Release                             
Hit:8 http://nova.clouds.archive.ubuntu.com/ubuntu xenial InRelease                         
Hit:9 http://nova.clouds.archive.ubuntu.com/ubuntu xenial-updates InRelease
Hit:10 http://nova.clouds.archive.ubuntu.com/ubuntu xenial-backports InRelease
Reading package lists... Done
ubuntu@dm:~$ sudo apt-get install -y mongodb-org
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following additional packages will be installed:
  mongodb-org-mongos mongodb-org-server mongodb-org-shell mongodb-org-tools
The following NEW packages will be installed:
  mongodb-org mongodb-org-mongos mongodb-org-server mongodb-org-shell mongodb-org-tools
0 upgraded, 5 newly installed, 0 to remove and 4 not upgraded.
Need to get 0 B/58.6 MB of archives.
After this operation, 254 MB of additional disk space will be used.
Selecting previously unselected package mongodb-org-shell.
(Reading database ... 138555 files and directories currently installed.)
Preparing to unpack .../mongodb-org-shell_4.0.6_amd64.deb ...
Unpacking mongodb-org-shell (4.0.6) ...
Selecting previously unselected package mongodb-org-server.
Preparing to unpack .../mongodb-org-server_4.0.6_amd64.deb ...
Unpacking mongodb-org-server (4.0.6) ...
Selecting previously unselected package mongodb-org-mongos.
Preparing to unpack .../mongodb-org-mongos_4.0.6_amd64.deb ...
Unpacking mongodb-org-mongos (4.0.6) ...
Selecting previously unselected package mongodb-org-tools.
Preparing to unpack .../mongodb-org-tools_4.0.6_amd64.deb ...
Unpacking mongodb-org-tools (4.0.6) ...
Selecting previously unselected package mongodb-org.
Preparing to unpack .../mongodb-org_4.0.6_amd64.deb ...
Unpacking mongodb-org (4.0.6) ...
Processing triggers for man-db (2.7.5-1) ...
Setting up mongodb-org-shell (4.0.6) ...
Setting up mongodb-org-server (4.0.6) ...
Setting up mongodb-org-mongos (4.0.6) ...
Setting up mongodb-org-tools (4.0.6) ...
Setting up mongodb-org (4.0.6) ...
ubuntu@dm:~$ sudo service mongod start

###################################################################
Import


ubuntu@dm:~$ mongoimport --db jsonsubONEK --collection sub --drop --file ~/cpp_codes/Json-LD/output/output_ref/out_onek_json_ld_sub.json --jsonArray
2019-02-11T06:30:41.380+0000	connected to: localhost
2019-02-11T06:30:41.380+0000	dropping: jsonsubONEK.sub
2019-02-11T06:30:44.372+0000	[##################......] jsonsubONEK.sub	34.8MB/46.2MB (75.4%)
2019-02-11T06:30:45.150+0000	[########################] jsonsubONEK.sub	46.2MB/46.2MB (100.0%)
2019-02-11T06:30:45.150+0000	imported 62461 documents

##############################################################
ubuntu@dm:~$ mongo
MongoDB shell version v4.0.6
connecting to: mongodb://127.0.0.1:27017/?gssapiServiceName=mongodb
Implicit session: session { "id" : UUID("89852168-2c13-4a2e-b79d-5e9c21f1dbf7") }
MongoDB server version: 4.0.6
Server has startup warnings: 
2019-02-11T06:29:59.458+0000 I STORAGE  [initandlisten] 
2019-02-11T06:29:59.458+0000 I STORAGE  [initandlisten] ** WARNING: Using the XFS filesystem is strongly recommended with the WiredTiger storage engine
2019-02-11T06:29:59.458+0000 I STORAGE  [initandlisten] **          See http://dochub.mongodb.org/core/prodnotes-filesystem
2019-02-11T06:30:00.721+0000 I CONTROL  [initandlisten] 
2019-02-11T06:30:00.721+0000 I CONTROL  [initandlisten] ** WARNING: Access control is not enabled for the database.
2019-02-11T06:30:00.721+0000 I CONTROL  [initandlisten] **          Read and write access to data and configuration is unrestricted.
2019-02-11T06:30:00.721+0000 I CONTROL  [initandlisten] 
---
Enable MongoDB's free cloud-based monitoring service, which will then receive and display
metrics about your deployment (disk utilization, CPU, operation statistics, etc).

The monitoring data will be available on a MongoDB website with a unique URL accessible to you
and anyone you share the URL with. MongoDB may use this information to make product
improvements and to suggest MongoDB products and deployment options to you.

To enable free monitoring, run the following command: db.enableFreeMonitoring()
To permanently disable this reminder, run the following command: db.disableFreeMonitoring()
---

> show dbs
admin        0.000GB
config       0.000GB
jsonsubONEK  0.029GB
local        0.000GB



After reBoot:

sudo service mongod start


























> use jsonsubONEmil
switched to db jsonsubONEmil

> db.setProfilingLevel(2)
{ "was" : 0, "slowms" : 100, "sampleRate" : 1, "ok" : 1 }



db.system.profile.find().sort( { ts : 1 } ).pretty()



#############################################################################################
After reboot:



ubuntu@dm:~$ sudo service mongod start
ubuntu@dm:~$ mongo
MongoDB shell version v4.0.6
connecting to: mongodb://127.0.0.1:27017/?gssapiServiceName=mongodb
Implicit session: session { "id" : UUID("acd04f68-64a8-4010-9aa3-ca3085eb2c27") }
MongoDB server version: 4.0.6
Server has startup warnings: 
2019-02-11T06:44:54.295+0000 I STORAGE  [initandlisten] 
2019-02-11T06:44:54.295+0000 I STORAGE  [initandlisten] ** WARNING: Using the XFS filesystem is strongly recommended with the WiredTiger storage engine
2019-02-11T06:44:54.295+0000 I STORAGE  [initandlisten] **          See http://dochub.mongodb.org/core/prodnotes-filesystem
2019-02-11T06:44:56.256+0000 I CONTROL  [initandlisten] 
2019-02-11T06:44:56.256+0000 I CONTROL  [initandlisten] ** WARNING: Access control is not enabled for the database.
2019-02-11T06:44:56.256+0000 I CONTROL  [initandlisten] **          Read and write access to data and configuration is unrestricted.
2019-02-11T06:44:56.256+0000 I CONTROL  [initandlisten] 
---
Enable MongoDB's free cloud-based monitoring service, which will then receive and display
metrics about your deployment (disk utilization, CPU, operation statistics, etc).

The monitoring data will be available on a MongoDB website with a unique URL accessible to you
and anyone you share the URL with. MongoDB may use this information to make product
improvements and to suggest MongoDB products and deployment options to you.

To enable free monitoring, run the following command: db.enableFreeMonitoring()
To permanently disable this reminder, run the following command: db.disableFreeMonitoring()
---

> use jsonsubONEK
switched to db jsonsubONEK
> db.setProfilingLevel(2)
{ "was" : 0, "slowms" : 100, "sampleRate" : 1, "ok" : 1 }
> db.sub.find({_id:/Product/,"productPropertyNumeric1" : {$gt:1}, type: "ProductType64" , productFeature: {$all:["ProductFeature10","ProductFeature14"]}}).sort({label:1}).limit(10).comment("JsonSUB_Query1")
{ "_id" : "Product83", "date" : ISODate("2001-12-23T00:00:00Z"), "publisher" : "Producer2", "productFeature" : [ "ProductFeature21", "ProductFeature20", "ProductFeature17", "ProductFeature14", "ProductFeature10", "ProductFeature5", "ProductFeature4", "ProductFeature1", "ProductFeature279", "ProductFeature278", "ProductFeature276", "ProductFeature269", "ProductFeature260", "ProductFeature258", "ProductFeature257", "ProductFeature254", "ProductFeature251", "ProductFeature250", "ProductFeature246", "ProductFeature243" ], "productPropertyTextual5" : "puckers chaplaincies snowbelt whoremaster", "productPropertyTextual4" : "lionized flume steatopygia managerially rehydrating hibiscuses asymptotical nimbler jolts promoter rachets laryngotracheal", "productPropertyTextual3" : "retched cartoning gambling concepts", "productPropertyTextual2" : "resellers disemboweled ripsaw eyeliners ashtrays jigger bushes logicize", "productPropertyTextual1" : "emblazons unsanitary grigs culotte dismals tritone operative compacts kohl finickiest redistills inappreciably accordantly", "productPropertyNumeric5" : 1324, "productPropertyNumeric4" : 36, "productPropertyNumeric3" : 433, "productPropertyNumeric2" : 127, "productPropertyNumeric1" : 76, "producer" : "Producer2", "type" : "ProductType64", "comment" : "dwarfisms presumers scandalizes dedicators reties inhibiting insanely mecums irreducibilities cyanosis intendment ninnies wedder complaints glassiest outlaw xiii zippier aspidistras sepulcher elementals nonconvergent chorales sallies facials meadowlark identifies overcompetitive crests widower experimental oozed scatterbrains mineralogic enfettered phylae lr ostracods smolders stinginess rethread nonliturgical coll highhandedly autopilot oakums toked tenths commercialization rheumier congratulations toneless shirring uncritically plighting disfranchises sonatine braininess starving dabbed grabbiest buoyancy puerilities scepters nanoseconds infinitely bast decipherable savorily banqueter knots purgers bumbled concertizing fatales veneerer differentiating shoptalks moonfish estuaries ticketing abbreviating pastes sensitizes louisianians summarizes commandeers hatmakers wades applauded accoutres imitator sharecropping palinodes transhipment reveled purities siccing cockiness wording nutritiously serenely inactions farmable glassily presentability severing swerved foretell worthing defeminized quislings unslaked wethers spurreys fluted evacuated unconscionable affecters lallygags segregative dampeners wobbliness deceasing rapist visualizing bandits repudiation dissidents heartache scissors baobab rejuvenescent scantily lavishest", "label" : "fifing extraterritorial reckoned" }
{ "_id" : "Product1777", "date" : ISODate("2002-01-11T00:00:00Z"), "publisher" : "Producer39", "productFeature" : [ "ProductFeature18", "ProductFeature17", "ProductFeature14", "ProductFeature12", "ProductFeature11", "ProductFeature10", "ProductFeature5", "ProductFeature1", "ProductFeature278", "ProductFeature276", "ProductFeature275", "ProductFeature274", "ProductFeature259", "ProductFeature258", "ProductFeature246", "ProductFeature245", "ProductFeature243", "ProductFeature242", "ProductFeature240", "ProductFeature1918", "ProductFeature1910" ], "productPropertyTextual3" : "predeceases gumboils serologic bubbies immorality blameable degrades", "productPropertyTextual2" : "wisely delegacies nonexistent alar cloudlets foreside ponied seabeaches grandaunt nosy concessive brainwashes dungeons", "productPropertyTextual1" : "indefinably fantasts frettier pilgrims", "productPropertyNumeric4" : 7, "productPropertyNumeric3" : 492, "productPropertyNumeric2" : 142, "productPropertyNumeric1" : 790, "producer" : "Producer39", "type" : "ProductType64", "comment" : "paupering dalliances wallabies aeronauts campo abscises tiredness seventeens smoothy splendors mudrocks spattered assimilates limeys trivalves dissertations tanagers kettles urethral birdieing trawleys encoding grooming schoolteaching clothiers orbed affraying trumped tertian tremblingly lassoer undermined bonzes jurists anglicism campiest sinuates sheafs gamba oystered bellowers fulfills pontius reductions lifer actuating pollees raunchy sobbers rutting nonabrasiveness pulpily officiation roleplaying spirits inconsolably wheys boorishness tangos cicadae cirrostratus quencher trampler producers quadruplicates stairwells reenjoy bouldery unsuspecting chariots execrations corrupted charger lampoonist annuities pressoreceptor bettered attraction faintish apium crushing plumpens twosomes polled evokers underpay functionally terming", "label" : "replanted swooper noncontradictory" }
> db.sub.find({_id:"Product123"}).comment("JsonSUB_ONEmil_Query2")
{ "_id" : "Product123", "date" : ISODate("2006-04-06T00:00:00Z"), "publisher" : "Producer3", "productFeature" : [ "ProductFeature49", "ProductFeature47", "ProductFeature46", "ProductFeature44", "ProductFeature43", "ProductFeature42", "ProductFeature603", "ProductFeature600", "ProductFeature598", "ProductFeature593", "ProductFeature591", "ProductFeature2825", "ProductFeature2823", "ProductFeature2820", "ProductFeature2813", "ProductFeature2805", "ProductFeature2798", "ProductFeature2792" ], "productPropertyTextual5" : "recessional spectrographic hackly playgirl outgunning caches roentgenometries chronically chapmen oppositeness broads traipsing", "productPropertyTextual4" : "blunderer nationless masonwork jingled grandly iced messing pleasures", "productPropertyTextual3" : "englishwoman cartop undercharged councilors subscription violator nonobedience kabala feudists unwanted hockers brashier", "productPropertyTextual2" : "airest graduations tusks removals prises masculinizing wreaths doorless benumbedness", "productPropertyTextual1" : "choleras samoans muddiness forzando mechanisms sillers peerages inbreathe pummelling mudding countless prowesses plasher constructed", "productPropertyNumeric5" : 1027, "productPropertyNumeric4" : 10, "productPropertyNumeric3" : 1527, "productPropertyNumeric2" : 1558, "productPropertyNumeric1" : 983, "producer" : "Producer3", "type" : "ProductType91", "comment" : "annullable preachiest solfeggi disseminates chequering sucker moderates explanations junketers anticommunism snickery pct burgundies collecting reappointment comities snoutiest entrenching heedlessly bumboat compactest iodizes pushups hypothesi ovulations supersensitive shoaliest aggregations perfidiously bridled recorders whispering gallons wedgier clearness unsalted hazed fangs oilily joineries wolfram pinon miniseries calcifying usufructs attaints diverticulitis superscripts boches gloved ambler incubative longness nursling forsaker curiums ratsbanes chubbily nondemocratic dissonance evils amaranthine sororities caveated breastbones foreran stamping dicotyledons riposting recheck paters successors loudlier deliberately proselytizer disfrocks shunter phoneticians investible tindery wedder lignifying proser glazing wordings grievers boxcars azimuths misdoers coalesces cageyness alloys ruins holystones signable timpani silkiness recompensive reverting wawls scintillatingly sestines burred aerily boleros footlights altruistic roughages acrostics burgomaster stoked wiretapped antineutrons austerity elitisms footway rehardened sweetens decomposing predictiveness nixing enthronements approachers loiterers uncoupled goop overdrew socialism protestable tentmaker protruding exposited dismay loper centripetally suspicions fitness misemploys cherishers repaving puckering cropper abortional gangrel", "label" : "reelers circulars overhanging" }
> 
> db.sub.find({_id:/Product/, type: "ProductType91" , productPropertyNumeric1: {$gt: 25} , productPropertyNumeric3: {$lt: 250}, productFeature: {$all:["ProductFeature48"] , $nin:["ProductFeature51"]} }).sort({label:1}).limit(10).comment("JsonSUB_ONEmil_Query3")
{ "_id" : "Product940", "date" : ISODate("2003-02-09T00:00:00Z"), "publisher" : "Producer20", "productFeature" : [ "ProductFeature48", "ProductFeature45", "ProductFeature44", "ProductFeature42", "ProductFeature40", "ProductFeature608", "ProductFeature605", "ProductFeature604", "ProductFeature602", "ProductFeature601", "ProductFeature600", "ProductFeature599", "ProductFeature595", "ProductFeature2824", "ProductFeature2821", "ProductFeature2818", "ProductFeature2817", "ProductFeature2811", "ProductFeature2797", "ProductFeature2796", "ProductFeature2794", "ProductFeature2790", "ProductFeature2789" ], "productPropertyTextual5" : "shiers decentest tambura shrubbier outplays valval", "productPropertyTextual4" : "appertaining radicalizes steadiers syzygal testacies adulation tats attainting pietist", "productPropertyTextual3" : "bereavements altering toolbox hurter septime seeder imparting snoopiest stargazers ciliata antimonarchists marveled unhats holily dabs", "productPropertyTextual2" : "advertent articulated irater physiological noncollapsable drawings evangelizes rebroadened stenciling impatiently modeled pilgrimages knockouts defoliators", "productPropertyTextual1" : "anatomically rechristens decompressed dupes annulment supersaturated exchequers", "productPropertyNumeric5" : 404, "productPropertyNumeric4" : 83, "productPropertyNumeric3" : 198, "productPropertyNumeric2" : 228, "productPropertyNumeric1" : 449, "producer" : "Producer20", "type" : "ProductType91", "comment" : "programmes breasting braizes parleying zoroastrianism sculptured stilettoes announcers phoniest oubliette influencing assizer dutifully wantage sectary yielding freckliest studhorses preoccupations trainsickness gorgets quacked sarapes pailful measuring appendages provides domiciling hosannas undistinguishable ascertains impresses senescent heists sprawliest leaguer vitrified drownds lifeline mewls substantialness swanked newspaperwoman resister showplaces overfurnishes faiences pressured aureus ladanum berried shallowing staged chattily subphylum primitiveness ablations malignancies martlets loth preaccepting cancelable misadministration nonfiction fatefully mustached bethinks bro recencies rescinds coopery daiquiri benefitted perinea incomprehensiblies pampean pachisi reloaded shucker seabird rubicundity palpate tombing dadoing cleared twangiest pinks lured pawers widdling chemoreception selectively codex ogling overlay metricizes foggily pasting mannered sweats coupons evangelized televiewer wester uncharitably refried resales", "label" : "conflicts rushee" }
> 
> 
> db.sub.find( { $or:  [ {_id:/Product/, type: "ProductType91",productPropertyNumeric1:{$gt:20} , productFeature:{$all:["ProductFeature51","ProductFeature45"]}}    ,  {_id:/Product/, type: "ProductType91", productPropertyNumeric2:{$gt:25} , productFeature:{$all:["ProductFeature51","ProductFeature48"]}}  ]} ).sort({label:1}).limit(10).skip(10).comment("JsonSUB_ONEmil_Query4")
> 
> 
> var ProductXYZ = db.sub.find({_id:"Product17"},{productFeature:1,productPropertyNumeric1:1,productPropertyNumeric2:1, _id:0}).comment("JsonSUB_ONEmil_Query5_PArt1").toArray()
> 
> db.sub.find( {$and:[{_id:/^Product/,productPropertyNumeric1: {$lt: (ProductXYZ[0].productPropertyNumeric1 + 170 )  }   },{_id:/^Product/, productPropertyNumeric1: {$gt: (ProductXYZ[0].productPropertyNumeric1 - 120 )  }   }  ],productFeature: {$in:ProductXYZ[0].productFeature},  $and:[{_id:/^Product/, productPropertyNumeric2: {$lt: (ProductXYZ[0].productPropertyNumeric2 + 170 )  }   },{_id:/^Product/, productPropertyNumeric2: {$gt: (ProductXYZ[0].productPropertyNumeric1 - 170 )  }   }  ]         }  ).sort({label:1}).limit(5).comment("JsonSUB_ONEmil_Query5_PArt2")
> 
> db.sub.find({_id:/^Product/, label:/is/ },{label:1}).comment("JsonSUB_ONEmil_Query6")
{ "_id" : "Product1001", "label" : "cambia commissariats" }
{ "_id" : "Product1005", "label" : "supremacist arbours" }
{ "_id" : "Product1007", "label" : "mixer finis monadism" }
{ "_id" : "Product1016", "label" : "prostatitis exec" }
{ "_id" : "Product1017", "label" : "radioisotope diestocks apparently" }
{ "_id" : "Product1025", "label" : "abolitionism" }
{ "_id" : "Product1032", "label" : "revisions" }
{ "_id" : "Product1036", "label" : "miaows sweetbriers preexists" }
{ "_id" : "Product1038", "label" : "vised spieler" }
{ "_id" : "Product1043", "label" : "frisbees preappointed ionization" }
{ "_id" : "Product1050", "label" : "unsatisfied casteism" }
{ "_id" : "Product1065", "label" : "commandoes vocalists surrenders" }
{ "_id" : "Product1070", "label" : "dovish aubades" }
{ "_id" : "Product1082", "label" : "gentiles puissantly" }
{ "_id" : "Product110", "label" : "jingoism" }
{ "_id" : "Product1100", "label" : "ascots mismatch" }
{ "_id" : "Product1109", "label" : "aqueously superiors faddist" }
{ "_id" : "Product111", "label" : "befouled fishponds rays" }
{ "_id" : "Product1111", "label" : "rediscovers" }
{ "_id" : "Product1119", "label" : "ghostwrites distinction survivability" }
Type "it" for more
> 
> var ProductXYZ = db.sub.find({_id:"Product1"}).comment("JsonSUB_ONEmil_Query7_PArt1").toArray()
> 
> var country_vendor = db.sub.find({ _id:/^Vendor/, country:"US"}).comment("JsonSUB_ONEmil_Query7_PArt2").toArray()
> 
> var vendor_country = country_vendor.map(function(x){return x._id})
> 
> 
> db.sub.find({$or: [{ $and:[{_id: /^Offer/},{product: ProductXYZ[0]._id}], vendor :{$in:vendor_country },date:{$gt: new Date("2000-10-01T00:00:00.000Z") }  },{_id:/^Review/,reviewFor:ProductXYZ[0]._id}] }  ).comment("JsonSUB_ONEmil_Query7_LAST_OPtional")
{ "_id" : "Offer3847", "date" : ISODate("2008-05-23T00:00:00Z"), "publisher" : "Vendor2", "offerWebpage" : "Offer3847", "deliveryDays" : 3, "validTo" : ISODate("2008-07-20T00:00:00Z"), "validFrom" : ISODate("2008-04-08T00:00:00Z"), "price" : 6198.7, "vendor" : "Vendor2", "product" : "Product1", "type" : "Offer" }
{ "_id" : "Review15336", "date" : ISODate("2008-06-10T00:00:00Z"), "publisher" : "RatingSite2", "rating4" : 7, "rating3" : 9, "rating2" : 4, "text" : "deviating mc fuddles psychopaths gaited wolfram amalgamator keeps shipwright skalds tutting incineration shallots fruitcakes glassines impugned alcoholized inaptly organizer tennists embroiderers heterotic renowns truthfully imperiousness misguidance cuttages warping connectedly readmission harmonizations unworthy flirtatiousness pronging greenstick checkerboards palmists alienisms hypnotized xylograph lymphosarcomas crabbed overseership hidable injectors confederacies snouting jittering rodeos stomps viewer viler severable cleansed formation coconuts tuques clumpier acrobatics soothingly spoliators gashes inverter pares gobos reconsecrations parcels adhesions unfamiliarity upstroke parroting gratified commitments subpena reconditioning introspectiveness tallyhoing vinous elucidation squiring prophase doornails willfulness wilco reestablishes weirds rained heptoses waggeries imbibitions qualities divisibilities bilateralism inearthed boiling monuments psychosexual mavin horribles reconsolidating quittance bamboozling upsets droppings cochlear reweaved chams slotted nonparametric aerobatics reliquidation substantiae screamer caesarean sawbuck hometown bioflavonoid incompressable mutating centerfold silvers ingloriously subornation machineries auburns outages hinter mayflies intaglios dispossesses goboes permissibility arcades hawkshaw intertwinements idolization frangibility wolfing democratizing disadvantageousness vendees huggers peduncles postfixes italicize", "language" : "es", "title" : "adaptively kaleyards bereavements pursuable gangers", "reviewDate" : ISODate("2007-11-21T00:00:00Z"), "reviewer" : "Reviewer777", "reviewFor" : "Product1", "type" : "Review" }
{ "_id" : "Review17768", "date" : ISODate("2008-06-13T00:00:00Z"), "publisher" : "RatingSite2", "rating4" : 1, "rating3" : 6, "rating2" : 9, "rating1" : 9, "text" : "wesleyans photocomposition seamster cliquishness copiously signaller reconsideration skulking abbreviates cupper anybodies bally hoorayed penney hounds narrater rehammered ruses countesses overshooting guardant hamlets carbineer scrounger cribbings dendrons theobromine colewort dishonorableness reserved howled coots scuffed remittals verifiers nocks basted bibberies croutons refracts impressment hyperbarically springes tripper recidivistic corneas unalterable atonally brachium workhouses dueling miniaturists nonclassically hemodialyses hopping wether admiralship ginny foreshadowed icker frater hydrolyze chaptered twentieths misbills kines constructions coeds farmed lurks disliking envyingly suitors overindustrialized tomahawks pornographies straightens infos ceinture attaches recapitulating accommodational motioners relays discipliners submergibility verbifies parity mamboes suedes irking pumicer semiotic compactors warring flossie scrambled taskworks musicotherapy reflowing recuperates binds relative officialism godchild bugs ruralisms electromagnetical pomeranians codings amounts shalt bairns cementer cushily monody waggery mountaineering undersell connecting toeshoe conspicuously sacra mocha maimed diagrams lawless spurred ruinously attitudinizes defenders innocents feudist misaddresses clasped stabs ducky veining doctoring badges sauteing elevations whap heartsickness runover", "language" : "en", "title" : "apposable breathlessness barbituric animist variated overloaded minidisks vanguards prawned", "reviewDate" : ISODate("2008-06-05T00:00:00Z"), "reviewer" : "Reviewer906", "reviewFor" : "Product1", "type" : "Review" }
{ "_id" : "Review1817", "date" : ISODate("2008-06-18T00:00:00Z"), "publisher" : "RatingSite1", "rating3" : 7, "rating2" : 3, "rating1" : 3, "text" : "gummiest thermostatic tonne tearstained polarizer astrolabe monopolistically fortes vibrator doxologies lutist harmless duresses assonances supersaturate sculpting jolters solicitors misbelief palpus casablanca foliaged whirlers honors licit chronologically appriser corkwood buttonholing shocking reproductiveness chemotherapists aligns dramatizations compiles enforced heirs mumbletypeg olympics speechlessness biophysicist metalists darnels arbors annexes wreathing dayroom proenforcement taskworks unblinking whelms expends powdered grassiest subminiaturize couturiere coifs damsels enroller unleash serb metrified etymologists acropolises materialistically hatters vibraphones nonfunctional bugler investigator biogeochemistry capering subcommanders confiscator thralls conniptions streamiest busheler limpidness subheadings disconnect ironist twiners gamic simplexes lentando collodion backfills postulates sanctities convalesces politesse recollections preindustrial impedient hankie washings minority verifiers delegates chasten chandlery", "language" : "de", "title" : "dismiss tinwares gumwood deleted shaman mandator mitigator anear rended unsettle saraband", "reviewDate" : ISODate("2008-06-13T00:00:00Z"), "reviewer" : "Reviewer93", "reviewFor" : "Product1", "type" : "Review" }
{ "_id" : "Review7308", "date" : ISODate("2008-05-12T00:00:00Z"), "publisher" : "RatingSite1", "rating3" : 5, "rating2" : 4, "text" : "critical situates thicknesses aviatrixes disreputably polychromatic fleshpot tours buenas swivelling africans inappositeness contexts spreads datively pollutants rarest untruth longways signposts tolls associated retraining braids pummelling grizzler uppercuts misruled remilitarizes scrawled cardiacs blazers armonica majolica landers estranges convened exultingly prostates dissepimental guzzlers trigon dingbat cheekiest dobbins shambles forested wend correctly excreters computed dishevels revalidate unallayed kerbing severalizing amercement greenstick wheelers bindles billies prorogation disorientated allomorphism prologues shirr pluralities dhow savoriest stypsis unrobed leanings flappy nebule jota beings placable grazings landlords quag tufting yips protozoal mediatorship maniacally obstetricians maestosos disharmony secreter addictions trinketed methamphetamine microcephalus reimbursed titaness impetuously molests campi rendezvouses browless locater pasteboards launderer mothballed rebinds encumbrances obstinateness legislatures shadowboxed bandmasters unstrung venosities lunkers overnighters enflaming smokiness focalize outweighing hierophants vandalistic votable travelog serenely winnower picaresque mitigates illuminist rigorously apparently unlighted denominationally evasiveness interfiled", "language" : "ja", "title" : "ligates cronyisms decanting reinvites lobbyisms attenuations discountable pariahs", "reviewDate" : ISODate("2007-11-23T00:00:00Z"), "reviewer" : "Reviewer359", "reviewFor" : "Product1", "type" : "Review" }
{ "_id" : "Review7783", "date" : ISODate("2008-06-02T00:00:00Z"), "publisher" : "RatingSite1", "rating3" : 2, "rating2" : 8, "rating1" : 8, "text" : "insistingly superconductivity federative tamer chokier ofays brewer luffs dermatological friendliest gonadial pledged overriding directly phenocopies overlooked overburdening smokily ginkgoes boltheads rebecks bandicoots allusively storekeepers yielding lancets satiates lobbied teetotaler wraps loveably restiveness documenting decompressing tensionless anodynes reincorporating fluter prepared backfires evolver filmography accommodatingly kitsch retched sacroiliac schlepping amputating mainsail activist asthmatically hoosgow revampers wagers canoes caldron benefactive splent symbolisms warranties allotrophic teasing arborized", "language" : "en", "title" : "solvability misinformation purblindness yeasts enfranchisement hiatal", "reviewDate" : ISODate("2008-04-03T00:00:00Z"), "reviewer" : "Reviewer385", "reviewFor" : "Product1", "type" : "Review" }
> 
> var ProductXYZ     = db.sub.find({_id:"Product1"}).comment("JsonSUB_ONEmil_Query8_PArt1").toArray() //This can be entered as a parameter by a user
> 
> db.sub.aggregate([{$match: { $and: [{_id:/^Review/,},{language:"zh"},{reviewFor:ProductXYZ[0]._id} ] , $comment :"JsonSUB_ONEmil_Query8_PArt2_WITHOUT_Error" }  },  {$lookup:{from:"sub", localField:"reviewer",foreignField:"_id", as:"reviewer"  }},{$sort:{date:-1}},{$limit:20} ],{allowDiskUse: true})
> 
> var ProductXYZ     = db.sub.find({_id:"Product1"}).comment("ORIGINAL_JsonSUB_ONEmil_Query8_PArt1").toArray()
> 
> db.sub.aggregate([{$match: { $and: [{_id:/^Review/,},{language:"zh"},{reviewFor:ProductXYZ[0]._id} ] , $comment :"JsonSUB_ONEmil_Query8_PArt2_ORIGINAL" }  },  {$lookup:{from:"sub", localField:"reviewer",foreignField:"_id", as:"reviewer"  }},{$sort:{date:-1}},{$limit:20} ],{allowDiskUse: true})
> 
> db.sub.aggregate([{$match: {_id:/^Review/,  reviewer:"Reviewer1089", $comment :"JsonSUB_ONEmil_Query9" }  },  {$lookup:{from:"sub", localField:"reviewer",foreignField:"_id", as:"tttt"  }},{$group:{ _id:"$tttt",Reviews:{$push:{_id:"$_id",title:"$title",product:"$reviewFor",date:"$date"  }}     } }],{allowDiskUse: true})
> 
> 
> db.sub.find( { $and:[{_id: /^Offer/},{date:{$gt:new Date("2005-04-03T00:00:00Z")}},{deliveryDays:{$lte:4}}, {product:"Product1" }, {vendor :{$in: db.sub.find({ _id:/^Vendor/, country:"US"}).map(function(x){return x._id}) }}]  }  ).sort({price:1}).limit(10).comment("JsonSUB_ONEmil_Query10")
{ "_id" : "Offer3847", "date" : ISODate("2008-05-23T00:00:00Z"), "publisher" : "Vendor2", "offerWebpage" : "Offer3847", "deliveryDays" : 3, "validTo" : ISODate("2008-07-20T00:00:00Z"), "validFrom" : ISODate("2008-04-08T00:00:00Z"), "price" : 6198.7, "vendor" : "Vendor2", "product" : "Product1", "type" : "Offer" }
> 
> 
> 
> db.sub.aggregate([{$match: {_id:"Offer1"  , $comment :"JsonSUB_ONEmil_Query11"}  },  {$lookup:{from:"sub", localField:"product",foreignField:"_id", as:"product"  }} ],{allowDiskUse: true})
{ "_id" : "Offer1", "date" : ISODate("2008-06-17T00:00:00Z"), "publisher" : "Vendor1", "offerWebpage" : "Offer1", "deliveryDays" : 5, "validTo" : ISODate("2008-09-11T00:00:00Z"), "validFrom" : ISODate("2008-03-20T00:00:00Z"), "price" : 7683.53, "vendor" : "Vendor1", "product" : [ { "_id" : "Product1385", "date" : ISODate("2001-10-07T00:00:00Z"), "publisher" : "Producer31", "productFeature" : [ "ProductFeature36", "ProductFeature30", "ProductFeature27", "ProductFeature26", "ProductFeature529", "ProductFeature518", "ProductFeature516", "ProductFeature2586", "ProductFeature2584", "ProductFeature2578", "ProductFeature2573", "ProductFeature2569", "ProductFeature2567", "ProductFeature2566", "ProductFeature2562" ], "productPropertyTextual6" : "pearlier pewterers bullfighter starry stinkards gavelling clogs comprized branched destructible overdeveloped unitizes", "productPropertyTextual5" : "digitalize brassies impenitent", "productPropertyTextual3" : "erythema winterkill travelable medalists webers muddiest dissembler", "productPropertyTextual2" : "sarcasms traitors macros admitters cherubic putrefying underclothes metamers retrench hadji packing immix cymes outfitting boxed", "productPropertyTextual1" : "outline unswerving decolonizes toolbox synagog humanizes armory delivering draggiest", "productPropertyNumeric6" : 118, "productPropertyNumeric5" : 246, "productPropertyNumeric3" : 1667, "productPropertyNumeric2" : 551, "productPropertyNumeric1" : 882, "producer" : "Producer31", "type" : "ProductType84", "comment" : "disputations tweeter peatiest quibbling deathlessly tunneller bellying bries sumpter antineutrinos dockets cords nosed modulation galvanizations deadfall stows fulness truelove seconded mumbo accordance resembling sensibles trumpeter microgram veterans locking tritone mildewy wriggliest maritally engineering degenerations deviltry unperfected jukebox cyans forecasted remittent sadomasochists mistaker requisitioners beautifiers unserved insoles fluorinating gravitic aunts montanans iffier callusing autumns chandlers procuress leakiest gnotobiotics gawkier masher", "label" : "vouchee" } ], "type" : "Offer" }
> 



##############################################################
Profile




> db.system.profile.find().sort( { ts : 1 } ).pretty()
{
	"op" : "query",
	"ns" : "jsonsubONEK.sub",
	"command" : {
		"find" : "sub",
		"filter" : {
			"_id" : /Product/,
			"productPropertyNumeric1" : {
				"$gt" : 1
			},
			"type" : "ProductType64",
			"productFeature" : {
				"$all" : [
					"ProductFeature10",
					"ProductFeature14"
				]
			}
		},
		"limit" : 10,
		"singleBatch" : false,
		"sort" : {
			"label" : 1
		},
		"comment" : "JsonSUB_Query1",
		"lsid" : {
			"id" : UUID("acd04f68-64a8-4010-9aa3-ca3085eb2c27")
		},
		"$db" : "jsonsubONEK"
	},
	"keysExamined" : 62461,
	"docsExamined" : 6721,
	"hasSortStage" : true,
	"cursorExhausted" : true,
	"numYield" : 492,
	"nreturned" : 2,
	"locks" : {
		"Global" : {
			"acquireCount" : {
				"r" : NumberLong(493)
			}
		},
		"Database" : {
			"acquireCount" : {
				"r" : NumberLong(493)
			}
		},
		"Collection" : {
			"acquireCount" : {
				"r" : NumberLong(493)
			}
		}
	},
	"responseLength" : 4860,
	"protocol" : "op_msg",
	"millis" : 339,
	"planSummary" : "IXSCAN { _id: 1 }",
	"execStats" : {
		"stage" : "SORT",
		"nReturned" : 2,
		"executionTimeMillisEstimate" : 333,
		"works" : 62466,
		"advanced" : 2,
		"needTime" : 62463,
		"needYield" : 0,
		"saveState" : 492,
		"restoreState" : 492,
		"isEOF" : 1,
		"invalidates" : 0,
		"sortPattern" : {
			"label" : 1
		},
		"memUsage" : 4766,
		"memLimit" : 33554432,
		"limitAmount" : 10,
		"inputStage" : {
			"stage" : "SORT_KEY_GENERATOR",
			"nReturned" : 2,
			"executionTimeMillisEstimate" : 323,
			"works" : 62463,
			"advanced" : 2,
			"needTime" : 62460,
			"needYield" : 0,
			"saveState" : 492,
			"restoreState" : 492,
			"isEOF" : 1,
			"invalidates" : 0,
			"inputStage" : {
				"stage" : "FETCH",
				"filter" : {
					"$and" : [
						{
							"productFeature" : {
								"$eq" : "ProductFeature10"
							}
						},
						{
							"productFeature" : {
								"$eq" : "ProductFeature14"
							}
						},
						{
							"type" : {
								"$eq" : "ProductType64"
							}
						},
						{
							"productPropertyNumeric1" : {
								"$gt" : 1
							}
						}
					]
				},
				"nReturned" : 2,
				"executionTimeMillisEstimate" : 313,
				"works" : 62462,
				"advanced" : 2,
				"needTime" : 62459,
				"needYield" : 0,
				"saveState" : 492,
				"restoreState" : 492,
				"isEOF" : 1,
				"invalidates" : 0,
				"docsExamined" : 6721,
				"alreadyHasObj" : 0,
				"inputStage" : {
					"stage" : "IXSCAN",
					"filter" : {
						"_id" : {
							"$regex" : "Product"
						}
					},
					"nReturned" : 6721,
					"executionTimeMillisEstimate" : 130,
					"works" : 62462,
					"advanced" : 6721,
					"needTime" : 55740,
					"needYield" : 0,
					"saveState" : 492,
					"restoreState" : 492,
					"isEOF" : 1,
					"invalidates" : 0,
					"keyPattern" : {
						"_id" : 1
					},
					"indexName" : "_id_",
					"isMultiKey" : false,
					"multiKeyPaths" : {
						"_id" : [ ]
					},
					"isUnique" : true,
					"isSparse" : false,
					"isPartial" : false,
					"indexVersion" : 2,
					"direction" : "forward",
					"indexBounds" : {
						"_id" : [
							"[\"\", {})",
							"[/Product/, /Product/]"
						]
					},
					"keysExamined" : 62461,
					"seeks" : 1,
					"dupsTested" : 0,
					"dupsDropped" : 0,
					"seenInvalidated" : 0
				}
			}
		}
	},
	"ts" : ISODate("2019-02-11T06:45:39.474Z"),
	"client" : "127.0.0.1",
	"appName" : "MongoDB Shell",
	"allUsers" : [ ],
	"user" : ""
}
{
	"op" : "query",
	"ns" : "jsonsubONEK.sub",
	"command" : {
		"find" : "sub",
		"filter" : {
			"_id" : "Product123"
		},
		"comment" : "JsonSUB_ONEmil_Query2",
		"lsid" : {
			"id" : UUID("acd04f68-64a8-4010-9aa3-ca3085eb2c27")
		},
		"$db" : "jsonsubONEK"
	},
	"keysExamined" : 1,
	"docsExamined" : 1,
	"cursorExhausted" : true,
	"numYield" : 0,
	"nreturned" : 1,
	"locks" : {
		"Global" : {
			"acquireCount" : {
				"r" : NumberLong(1)
			}
		},
		"Database" : {
			"acquireCount" : {
				"r" : NumberLong(1)
			}
		},
		"Collection" : {
			"acquireCount" : {
				"r" : NumberLong(1)
			}
		}
	},
	"responseLength" : 3010,
	"protocol" : "op_msg",
	"millis" : 0,
	"planSummary" : "IDHACK",
	"execStats" : {
		"stage" : "IDHACK",
		"nReturned" : 1,
		"executionTimeMillisEstimate" : 0,
		"works" : 2,
		"advanced" : 1,
		"needTime" : 0,
		"needYield" : 0,
		"saveState" : 0,
		"restoreState" : 0,
		"isEOF" : 1,
		"invalidates" : 0,
		"keysExamined" : 1,
		"docsExamined" : 1
	},
	"ts" : ISODate("2019-02-11T06:45:46.738Z"),
	"client" : "127.0.0.1",
	"appName" : "MongoDB Shell",
	"allUsers" : [ ],
	"user" : ""
}
{
	"op" : "query",
	"ns" : "jsonsubONEK.sub",
	"command" : {
		"find" : "sub",
		"filter" : {
			"_id" : /Product/,
			"type" : "ProductType91",
			"productPropertyNumeric1" : {
				"$gt" : 25
			},
			"productPropertyNumeric3" : {
				"$lt" : 250
			},
			"productFeature" : {
				"$all" : [
					"ProductFeature48"
				],
				"$nin" : [
					"ProductFeature51"
				]
			}
		},
		"limit" : 10,
		"singleBatch" : false,
		"sort" : {
			"label" : 1
		},
		"comment" : "JsonSUB_ONEmil_Query3",
		"lsid" : {
			"id" : UUID("acd04f68-64a8-4010-9aa3-ca3085eb2c27")
		},
		"$db" : "jsonsubONEK"
	},
	"keysExamined" : 62461,
	"docsExamined" : 6721,
	"hasSortStage" : true,
	"cursorExhausted" : true,
	"numYield" : 488,
	"nreturned" : 1,
	"locks" : {
		"Global" : {
			"acquireCount" : {
				"r" : NumberLong(489)
			}
		},
		"Database" : {
			"acquireCount" : {
				"r" : NumberLong(489)
			}
		},
		"Collection" : {
			"acquireCount" : {
				"r" : NumberLong(489)
			}
		}
	},
	"responseLength" : 2739,
	"protocol" : "op_msg",
	"millis" : 140,
	"planSummary" : "IXSCAN { _id: 1 }",
	"execStats" : {
		"stage" : "SORT",
		"nReturned" : 1,
		"executionTimeMillisEstimate" : 90,
		"works" : 62465,
		"advanced" : 1,
		"needTime" : 62463,
		"needYield" : 0,
		"saveState" : 488,
		"restoreState" : 488,
		"isEOF" : 1,
		"invalidates" : 0,
		"sortPattern" : {
			"label" : 1
		},
		"memUsage" : 2640,
		"memLimit" : 33554432,
		"limitAmount" : 10,
		"inputStage" : {
			"stage" : "SORT_KEY_GENERATOR",
			"nReturned" : 1,
			"executionTimeMillisEstimate" : 90,
			"works" : 62463,
			"advanced" : 1,
			"needTime" : 62461,
			"needYield" : 0,
			"saveState" : 488,
			"restoreState" : 488,
			"isEOF" : 1,
			"invalidates" : 0,
			"inputStage" : {
				"stage" : "FETCH",
				"filter" : {
					"$and" : [
						{
							"productFeature" : {
								"$eq" : "ProductFeature48"
							}
						},
						{
							"type" : {
								"$eq" : "ProductType91"
							}
						},
						{
							"productPropertyNumeric3" : {
								"$lt" : 250
							}
						},
						{
							"productPropertyNumeric1" : {
								"$gt" : 25
							}
						},
						{
							"$nor" : [
								{
									"productFeature" : {
										"$eq" : "ProductFeature51"
									}
								}
							]
						}
					]
				},
				"nReturned" : 1,
				"executionTimeMillisEstimate" : 90,
				"works" : 62462,
				"advanced" : 1,
				"needTime" : 62460,
				"needYield" : 0,
				"saveState" : 488,
				"restoreState" : 488,
				"isEOF" : 1,
				"invalidates" : 0,
				"docsExamined" : 6721,
				"alreadyHasObj" : 0,
				"inputStage" : {
					"stage" : "IXSCAN",
					"filter" : {
						"_id" : {
							"$regex" : "Product"
						}
					},
					"nReturned" : 6721,
					"executionTimeMillisEstimate" : 80,
					"works" : 62462,
					"advanced" : 6721,
					"needTime" : 55740,
					"needYield" : 0,
					"saveState" : 488,
					"restoreState" : 488,
					"isEOF" : 1,
					"invalidates" : 0,
					"keyPattern" : {
						"_id" : 1
					},
					"indexName" : "_id_",
					"isMultiKey" : false,
					"multiKeyPaths" : {
						"_id" : [ ]
					},
					"isUnique" : true,
					"isSparse" : false,
					"isPartial" : false,
					"indexVersion" : 2,
					"direction" : "forward",
					"indexBounds" : {
						"_id" : [
							"[\"\", {})",
							"[/Product/, /Product/]"
						]
					},
					"keysExamined" : 62461,
					"seeks" : 1,
					"dupsTested" : 0,
					"dupsDropped" : 0,
					"seenInvalidated" : 0
				}
			}
		}
	},
	"ts" : ISODate("2019-02-11T06:45:55.033Z"),
	"client" : "127.0.0.1",
	"appName" : "MongoDB Shell",
	"allUsers" : [ ],
	"user" : ""
}
{
	"op" : "query",
	"ns" : "jsonsubONEK.sub",
	"command" : {
		"find" : "sub",
		"filter" : {
			"$or" : [
				{
					"_id" : /Product/,
					"type" : "ProductType91",
					"productPropertyNumeric1" : {
						"$gt" : 20
					},
					"productFeature" : {
						"$all" : [
							"ProductFeature51",
							"ProductFeature45"
						]
					}
				},
				{
					"_id" : /Product/,
					"type" : "ProductType91",
					"productPropertyNumeric2" : {
						"$gt" : 25
					},
					"productFeature" : {
						"$all" : [
							"ProductFeature51",
							"ProductFeature48"
						]
					}
				}
			]
		},
		"skip" : 10,
		"limit" : 10,
		"singleBatch" : false,
		"sort" : {
			"label" : 1
		},
		"comment" : "JsonSUB_ONEmil_Query4",
		"lsid" : {
			"id" : UUID("acd04f68-64a8-4010-9aa3-ca3085eb2c27")
		},
		"$db" : "jsonsubONEK"
	},
	"keysExamined" : 62461,
	"docsExamined" : 6721,
	"hasSortStage" : true,
	"cursorExhausted" : true,
	"numYield" : 488,
	"nreturned" : 0,
	"locks" : {
		"Global" : {
			"acquireCount" : {
				"r" : NumberLong(489)
			}
		},
		"Database" : {
			"acquireCount" : {
				"r" : NumberLong(489)
			}
		},
		"Collection" : {
			"acquireCount" : {
				"r" : NumberLong(489)
			}
		}
	},
	"responseLength" : 104,
	"protocol" : "op_msg",
	"millis" : 189,
	"planSummary" : "IXSCAN { _id: 1 }",
	"execStats" : {
		"stage" : "SUBPLAN",
		"nReturned" : 0,
		"executionTimeMillisEstimate" : 130,
		"works" : 62466,
		"advanced" : 0,
		"needTime" : 62465,
		"needYield" : 0,
		"saveState" : 488,
		"restoreState" : 488,
		"isEOF" : 1,
		"invalidates" : 0,
		"inputStage" : {
			"stage" : "SKIP",
			"nReturned" : 0,
			"executionTimeMillisEstimate" : 130,
			"works" : 62465,
			"advanced" : 0,
			"needTime" : 62465,
			"needYield" : 0,
			"saveState" : 488,
			"restoreState" : 488,
			"isEOF" : 1,
			"invalidates" : 0,
			"skipAmount" : 8,
			"inputStage" : {
				"stage" : "SORT",
				"nReturned" : 2,
				"executionTimeMillisEstimate" : 120,
				"works" : 62465,
				"advanced" : 2,
				"needTime" : 62463,
				"needYield" : 0,
				"saveState" : 488,
				"restoreState" : 488,
				"isEOF" : 1,
				"invalidates" : 0,
				"sortPattern" : {
					"label" : 1
				},
				"memUsage" : 4529,
				"memLimit" : 33554432,
				"limitAmount" : 20,
				"inputStage" : {
					"stage" : "SORT_KEY_GENERATOR",
					"nReturned" : 2,
					"executionTimeMillisEstimate" : 110,
					"works" : 62463,
					"advanced" : 2,
					"needTime" : 62460,
					"needYield" : 0,
					"saveState" : 488,
					"restoreState" : 488,
					"isEOF" : 1,
					"invalidates" : 0,
					"inputStage" : {
						"stage" : "FETCH",
						"filter" : {
							"$or" : [
								{
									"$and" : [
										{
											"productFeature" : {
												"$eq" : "ProductFeature51"
											}
										},
										{
											"productFeature" : {
												"$eq" : "ProductFeature48"
											}
										},
										{
											"type" : {
												"$eq" : "ProductType91"
											}
										},
										{
											"productPropertyNumeric2" : {
												"$gt" : 25
											}
										}
									]
								},
								{
									"$and" : [
										{
											"productFeature" : {
												"$eq" : "ProductFeature51"
											}
										},
										{
											"productFeature" : {
												"$eq" : "ProductFeature45"
											}
										},
										{
											"type" : {
												"$eq" : "ProductType91"
											}
										},
										{
											"productPropertyNumeric1" : {
												"$gt" : 20
											}
										}
									]
								}
							]
						},
						"nReturned" : 2,
						"executionTimeMillisEstimate" : 110,
						"works" : 62462,
						"advanced" : 2,
						"needTime" : 62459,
						"needYield" : 0,
						"saveState" : 488,
						"restoreState" : 488,
						"isEOF" : 1,
						"invalidates" : 0,
						"docsExamined" : 6721,
						"alreadyHasObj" : 0,
						"inputStage" : {
							"stage" : "IXSCAN",
							"filter" : {
								"_id" : {
									"$regex" : "Product"
								}
							},
							"nReturned" : 6721,
							"executionTimeMillisEstimate" : 50,
							"works" : 62462,
							"advanced" : 6721,
							"needTime" : 55740,
							"needYield" : 0,
							"saveState" : 488,
							"restoreState" : 488,
							"isEOF" : 1,
							"invalidates" : 0,
							"keyPattern" : {
								"_id" : 1
							},
							"indexName" : "_id_",
							"isMultiKey" : false,
							"multiKeyPaths" : {
								"_id" : [ ]
							},
							"isUnique" : true,
							"isSparse" : false,
							"isPartial" : false,
							"indexVersion" : 2,
							"direction" : "forward",
							"indexBounds" : {
								"_id" : [
									"[\"\", {})",
									"[/Product/, /Product/]"
								]
							},
							"keysExamined" : 62461,
							"seeks" : 1,
							"dupsTested" : 0,
							"dupsDropped" : 0,
							"seenInvalidated" : 0
						}
					}
				}
			}
		}
	},
	"ts" : ISODate("2019-02-11T06:46:03.882Z"),
	"client" : "127.0.0.1",
	"appName" : "MongoDB Shell",
	"allUsers" : [ ],
	"user" : ""
}
{
	"op" : "query",
	"ns" : "jsonsubONEK.sub",
	"command" : {
		"find" : "sub",
		"filter" : {
			"_id" : "Product17"
		},
		"projection" : {
			"productFeature" : 1,
			"productPropertyNumeric1" : 1,
			"productPropertyNumeric2" : 1,
			"_id" : 0
		},
		"comment" : "JsonSUB_ONEmil_Query5_PArt1",
		"lsid" : {
			"id" : UUID("acd04f68-64a8-4010-9aa3-ca3085eb2c27")
		},
		"$db" : "jsonsubONEK"
	},
	"keysExamined" : 1,
	"docsExamined" : 1,
	"cursorExhausted" : true,
	"numYield" : 0,
	"nreturned" : 1,
	"locks" : {
		"Global" : {
			"acquireCount" : {
				"r" : NumberLong(1)
			}
		},
		"Database" : {
			"acquireCount" : {
				"r" : NumberLong(1)
			}
		},
		"Collection" : {
			"acquireCount" : {
				"r" : NumberLong(1)
			}
		}
	},
	"responseLength" : 529,
	"protocol" : "op_msg",
	"millis" : 0,
	"planSummary" : "IDHACK",
	"execStats" : {
		"stage" : "PROJECTION",
		"nReturned" : 1,
		"executionTimeMillisEstimate" : 0,
		"works" : 2,
		"advanced" : 1,
		"needTime" : 0,
		"needYield" : 0,
		"saveState" : 0,
		"restoreState" : 0,
		"isEOF" : 1,
		"invalidates" : 0,
		"transformBy" : {
			"productFeature" : 1,
			"productPropertyNumeric1" : 1,
			"productPropertyNumeric2" : 1,
			"_id" : 0
		},
		"inputStage" : {
			"stage" : "IDHACK",
			"nReturned" : 1,
			"executionTimeMillisEstimate" : 0,
			"works" : 2,
			"advanced" : 1,
			"needTime" : 0,
			"needYield" : 0,
			"saveState" : 0,
			"restoreState" : 0,
			"isEOF" : 1,
			"invalidates" : 0,
			"keysExamined" : 1,
			"docsExamined" : 1
		}
	},
	"ts" : ISODate("2019-02-11T06:46:12.645Z"),
	"client" : "127.0.0.1",
	"appName" : "MongoDB Shell",
	"allUsers" : [ ],
	"user" : ""
}
{
	"op" : "query",
	"ns" : "jsonsubONEK.sub",
	"command" : {
		"find" : "sub",
		"filter" : {
			"$and" : [
				{
					"_id" : /^Product/,
					"productPropertyNumeric2" : {
						"$lt" : 582
					}
				},
				{
					"_id" : /^Product/,
					"productPropertyNumeric2" : {
						"$gt" : 823
					}
				}
			],
			"productFeature" : {
				"$in" : [
					"ProductFeature109",
					"ProductFeature107",
					"ProductFeature102",
					"ProductFeature1606",
					"ProductFeature1605",
					"ProductFeature1604",
					"ProductFeature1595",
					"ProductFeature1594",
					"ProductFeature1580",
					"ProductFeature4670",
					"ProductFeature4669",
					"ProductFeature4652",
					"ProductFeature4640"
				]
			}
		},
		"limit" : 5,
		"singleBatch" : false,
		"sort" : {
			"label" : 1
		},
		"comment" : "JsonSUB_ONEmil_Query5_PArt2",
		"lsid" : {
			"id" : UUID("acd04f68-64a8-4010-9aa3-ca3085eb2c27")
		},
		"$db" : "jsonsubONEK"
	},
	"keysExamined" : 6722,
	"docsExamined" : 6721,
	"hasSortStage" : true,
	"cursorExhausted" : true,
	"numYield" : 52,
	"nreturned" : 0,
	"locks" : {
		"Global" : {
			"acquireCount" : {
				"r" : NumberLong(53)
			}
		},
		"Database" : {
			"acquireCount" : {
				"r" : NumberLong(53)
			}
		},
		"Collection" : {
			"acquireCount" : {
				"r" : NumberLong(53)
			}
		}
	},
	"responseLength" : 104,
	"protocol" : "op_msg",
	"millis" : 33,
	"planSummary" : "IXSCAN { _id: 1 }",
	"execStats" : {
		"stage" : "SORT",
		"nReturned" : 0,
		"executionTimeMillisEstimate" : 20,
		"works" : 6725,
		"advanced" : 0,
		"needTime" : 6724,
		"needYield" : 0,
		"saveState" : 52,
		"restoreState" : 52,
		"isEOF" : 1,
		"invalidates" : 0,
		"sortPattern" : {
			"label" : 1
		},
		"memUsage" : 0,
		"memLimit" : 33554432,
		"limitAmount" : 5,
		"inputStage" : {
			"stage" : "SORT_KEY_GENERATOR",
			"nReturned" : 0,
			"executionTimeMillisEstimate" : 20,
			"works" : 6724,
			"advanced" : 0,
			"needTime" : 6723,
			"needYield" : 0,
			"saveState" : 52,
			"restoreState" : 52,
			"isEOF" : 1,
			"invalidates" : 0,
			"inputStage" : {
				"stage" : "FETCH",
				"filter" : {
					"$and" : [
						{
							"productPropertyNumeric2" : {
								"$lt" : 582
							}
						},
						{
							"productPropertyNumeric2" : {
								"$gt" : 823
							}
						},
						{
							"productFeature" : {
								"$in" : [
									"ProductFeature102",
									"ProductFeature107",
									"ProductFeature109",
									"ProductFeature1580",
									"ProductFeature1594",
									"ProductFeature1595",
									"ProductFeature1604",
									"ProductFeature1605",
									"ProductFeature1606",
									"ProductFeature4640",
									"ProductFeature4652",
									"ProductFeature4669",
									"ProductFeature4670"
								]
							}
						}
					]
				},
				"nReturned" : 0,
				"executionTimeMillisEstimate" : 20,
				"works" : 6723,
				"advanced" : 0,
				"needTime" : 6722,
				"needYield" : 0,
				"saveState" : 52,
				"restoreState" : 52,
				"isEOF" : 1,
				"invalidates" : 0,
				"docsExamined" : 6721,
				"alreadyHasObj" : 0,
				"inputStage" : {
					"stage" : "IXSCAN",
					"nReturned" : 6721,
					"executionTimeMillisEstimate" : 0,
					"works" : 6723,
					"advanced" : 6721,
					"needTime" : 1,
					"needYield" : 0,
					"saveState" : 52,
					"restoreState" : 52,
					"isEOF" : 1,
					"invalidates" : 0,
					"keyPattern" : {
						"_id" : 1
					},
					"indexName" : "_id_",
					"isMultiKey" : false,
					"multiKeyPaths" : {
						"_id" : [ ]
					},
					"isUnique" : true,
					"isSparse" : false,
					"isPartial" : false,
					"indexVersion" : 2,
					"direction" : "forward",
					"indexBounds" : {
						"_id" : [
							"[\"Product\", \"Producu\")",
							"[/^Product/, /^Product/]"
						]
					},
					"keysExamined" : 6722,
					"seeks" : 2,
					"dupsTested" : 0,
					"dupsDropped" : 0,
					"seenInvalidated" : 0
				}
			}
		}
	},
	"ts" : ISODate("2019-02-11T06:46:12.725Z"),
	"client" : "127.0.0.1",
	"appName" : "MongoDB Shell",
	"allUsers" : [ ],
	"user" : ""
}
{
	"op" : "query",
	"ns" : "jsonsubONEK.sub",
	"command" : {
		"find" : "sub",
		"filter" : {
			"_id" : /^Product/,
			"label" : /is/
		},
		"projection" : {
			"label" : 1
		},
		"comment" : "JsonSUB_ONEmil_Query6",
		"lsid" : {
			"id" : UUID("acd04f68-64a8-4010-9aa3-ca3085eb2c27")
		},
		"$db" : "jsonsubONEK"
	},
	"cursorid" : 15033445830,
	"keysExamined" : 532,
	"docsExamined" : 532,
	"numYield" : 4,
	"nreturned" : 101,
	"locks" : {
		"Global" : {
			"acquireCount" : {
				"r" : NumberLong(5)
			}
		},
		"Database" : {
			"acquireCount" : {
				"r" : NumberLong(5)
			}
		},
		"Collection" : {
			"acquireCount" : {
				"r" : NumberLong(5)
			}
		}
	},
	"responseLength" : 6722,
	"protocol" : "op_msg",
	"millis" : 5,
	"planSummary" : "IXSCAN { _id: 1 }",
	"execStats" : {
		"stage" : "PROJECTION",
		"nReturned" : 101,
		"executionTimeMillisEstimate" : 0,
		"works" : 532,
		"advanced" : 101,
		"needTime" : 431,
		"needYield" : 0,
		"saveState" : 5,
		"restoreState" : 4,
		"isEOF" : 0,
		"invalidates" : 0,
		"transformBy" : {
			"label" : 1
		},
		"inputStage" : {
			"stage" : "FETCH",
			"filter" : {
				"label" : {
					"$regex" : "is"
				}
			},
			"nReturned" : 101,
			"executionTimeMillisEstimate" : 0,
			"works" : 532,
			"advanced" : 101,
			"needTime" : 431,
			"needYield" : 0,
			"saveState" : 5,
			"restoreState" : 4,
			"isEOF" : 0,
			"invalidates" : 0,
			"docsExamined" : 532,
			"alreadyHasObj" : 0,
			"inputStage" : {
				"stage" : "IXSCAN",
				"nReturned" : 532,
				"executionTimeMillisEstimate" : 0,
				"works" : 532,
				"advanced" : 532,
				"needTime" : 0,
				"needYield" : 0,
				"saveState" : 5,
				"restoreState" : 4,
				"isEOF" : 0,
				"invalidates" : 0,
				"keyPattern" : {
					"_id" : 1
				},
				"indexName" : "_id_",
				"isMultiKey" : false,
				"multiKeyPaths" : {
					"_id" : [ ]
				},
				"isUnique" : true,
				"isSparse" : false,
				"isPartial" : false,
				"indexVersion" : 2,
				"direction" : "forward",
				"indexBounds" : {
					"_id" : [
						"[\"Product\", \"Producu\")",
						"[/^Product/, /^Product/]"
					]
				},
				"keysExamined" : 532,
				"seeks" : 1,
				"dupsTested" : 0,
				"dupsDropped" : 0,
				"seenInvalidated" : 0
			}
		}
	},
	"ts" : ISODate("2019-02-11T06:46:21.921Z"),
	"client" : "127.0.0.1",
	"appName" : "MongoDB Shell",
	"allUsers" : [ ],
	"user" : ""
}
{
	"op" : "query",
	"ns" : "jsonsubONEK.sub",
	"command" : {
		"find" : "sub",
		"filter" : {
			"_id" : "Product1"
		},
		"comment" : "JsonSUB_ONEmil_Query7_PArt1",
		"lsid" : {
			"id" : UUID("acd04f68-64a8-4010-9aa3-ca3085eb2c27")
		},
		"$db" : "jsonsubONEK"
	},
	"keysExamined" : 1,
	"docsExamined" : 1,
	"cursorExhausted" : true,
	"numYield" : 0,
	"nreturned" : 1,
	"locks" : {
		"Global" : {
			"acquireCount" : {
				"r" : NumberLong(1)
			}
		},
		"Database" : {
			"acquireCount" : {
				"r" : NumberLong(1)
			}
		},
		"Collection" : {
			"acquireCount" : {
				"r" : NumberLong(1)
			}
		}
	},
	"responseLength" : 2133,
	"protocol" : "op_msg",
	"millis" : 0,
	"planSummary" : "IDHACK",
	"execStats" : {
		"stage" : "IDHACK",
		"nReturned" : 1,
		"executionTimeMillisEstimate" : 0,
		"works" : 2,
		"advanced" : 1,
		"needTime" : 0,
		"needYield" : 0,
		"saveState" : 0,
		"restoreState" : 0,
		"isEOF" : 1,
		"invalidates" : 0,
		"keysExamined" : 1,
		"docsExamined" : 1
	},
	"ts" : ISODate("2019-02-11T06:46:36.607Z"),
	"client" : "127.0.0.1",
	"appName" : "MongoDB Shell",
	"allUsers" : [ ],
	"user" : ""
}
{
	"op" : "query",
	"ns" : "jsonsubONEK.sub",
	"command" : {
		"find" : "sub",
		"filter" : {
			"_id" : /^Vendor/,
			"country" : "US"
		},
		"comment" : "JsonSUB_ONEmil_Query7_PArt2",
		"lsid" : {
			"id" : UUID("acd04f68-64a8-4010-9aa3-ca3085eb2c27")
		},
		"$db" : "jsonsubONEK"
	},
	"keysExamined" : 21,
	"docsExamined" : 21,
	"cursorExhausted" : true,
	"numYield" : 2,
	"nreturned" : 7,
	"locks" : {
		"Global" : {
			"acquireCount" : {
				"r" : NumberLong(3)
			}
		},
		"Database" : {
			"acquireCount" : {
				"r" : NumberLong(3)
			}
		},
		"Collection" : {
			"acquireCount" : {
				"r" : NumberLong(3)
			}
		}
	},
	"responseLength" : 3453,
	"protocol" : "op_msg",
	"millis" : 69,
	"planSummary" : "IXSCAN { _id: 1 }",
	"execStats" : {
		"stage" : "FETCH",
		"filter" : {
			"country" : {
				"$eq" : "US"
			}
		},
		"nReturned" : 7,
		"executionTimeMillisEstimate" : 64,
		"works" : 22,
		"advanced" : 7,
		"needTime" : 14,
		"needYield" : 0,
		"saveState" : 2,
		"restoreState" : 2,
		"isEOF" : 1,
		"invalidates" : 0,
		"docsExamined" : 21,
		"alreadyHasObj" : 0,
		"inputStage" : {
			"stage" : "IXSCAN",
			"nReturned" : 21,
			"executionTimeMillisEstimate" : 0,
			"works" : 22,
			"advanced" : 21,
			"needTime" : 0,
			"needYield" : 0,
			"saveState" : 2,
			"restoreState" : 2,
			"isEOF" : 1,
			"invalidates" : 0,
			"keyPattern" : {
				"_id" : 1
			},
			"indexName" : "_id_",
			"isMultiKey" : false,
			"multiKeyPaths" : {
				"_id" : [ ]
			},
			"isUnique" : true,
			"isSparse" : false,
			"isPartial" : false,
			"indexVersion" : 2,
			"direction" : "forward",
			"indexBounds" : {
				"_id" : [
					"[\"Vendor\", \"Vendos\")",
					"[/^Vendor/, /^Vendor/]"
				]
			},
			"keysExamined" : 21,
			"seeks" : 1,
			"dupsTested" : 0,
			"dupsDropped" : 0,
			"seenInvalidated" : 0
		}
	},
	"ts" : ISODate("2019-02-11T06:46:43.671Z"),
	"client" : "127.0.0.1",
	"appName" : "MongoDB Shell",
	"allUsers" : [ ],
	"user" : ""
}
{
	"op" : "query",
	"ns" : "jsonsubONEK.sub",
	"command" : {
		"find" : "sub",
		"filter" : {
			"$or" : [
				{
					"$and" : [
						{
							"_id" : /^Offer/
						},
						{
							"product" : "Product1"
						}
					],
					"vendor" : {
						"$in" : [
							"Vendor12",
							"Vendor17",
							"Vendor2",
							"Vendor21",
							"Vendor4",
							"Vendor7",
							"Vendor9"
						]
					},
					"date" : {
						"$gt" : ISODate("2000-10-01T00:00:00Z")
					}
				},
				{
					"_id" : /^Review/,
					"reviewFor" : "Product1"
				}
			]
		},
		"comment" : "JsonSUB_ONEmil_Query7_LAST_OPtional",
		"lsid" : {
			"id" : UUID("acd04f68-64a8-4010-9aa3-ca3085eb2c27")
		},
		"$db" : "jsonsubONEK"
	},
	"keysExamined" : 55681,
	"docsExamined" : 55679,
	"cursorExhausted" : true,
	"numYield" : 438,
	"nreturned" : 6,
	"locks" : {
		"Global" : {
			"acquireCount" : {
				"r" : NumberLong(439)
			}
		},
		"Database" : {
			"acquireCount" : {
				"r" : NumberLong(439)
			}
		},
		"Collection" : {
			"acquireCount" : {
				"r" : NumberLong(439)
			}
		}
	},
	"responseLength" : 7760,
	"protocol" : "op_msg",
	"millis" : 634,
	"planSummary" : "IXSCAN { _id: 1 }, IXSCAN { _id: 1 }",
	"execStats" : {
		"stage" : "SUBPLAN",
		"nReturned" : 6,
		"executionTimeMillisEstimate" : 621,
		"works" : 55683,
		"advanced" : 6,
		"needTime" : 55676,
		"needYield" : 0,
		"saveState" : 438,
		"restoreState" : 438,
		"isEOF" : 1,
		"invalidates" : 0,
		"inputStage" : {
			"stage" : "OR",
			"nReturned" : 6,
			"executionTimeMillisEstimate" : 621,
			"works" : 55683,
			"advanced" : 6,
			"needTime" : 55676,
			"needYield" : 0,
			"saveState" : 438,
			"restoreState" : 438,
			"isEOF" : 1,
			"invalidates" : 0,
			"dupsTested" : 6,
			"dupsDropped" : 0,
			"recordIdsForgotten" : 0,
			"inputStages" : [
				{
					"stage" : "FETCH",
					"filter" : {
						"$and" : [
							{
								"product" : {
									"$eq" : "Product1"
								}
							},
							{
								"date" : {
									"$gt" : ISODate("2000-10-01T00:00:00Z")
								}
							},
							{
								"vendor" : {
									"$in" : [
										"Vendor12",
										"Vendor17",
										"Vendor2",
										"Vendor21",
										"Vendor4",
										"Vendor7",
										"Vendor9"
									]
								}
							}
						]
					},
					"nReturned" : 1,
					"executionTimeMillisEstimate" : 170,
					"works" : 36502,
					"advanced" : 1,
					"needTime" : 36500,
					"needYield" : 0,
					"saveState" : 438,
					"restoreState" : 438,
					"isEOF" : 1,
					"invalidates" : 0,
					"docsExamined" : 36500,
					"alreadyHasObj" : 0,
					"inputStage" : {
						"stage" : "IXSCAN",
						"nReturned" : 36500,
						"executionTimeMillisEstimate" : 70,
						"works" : 36502,
						"advanced" : 36500,
						"needTime" : 1,
						"needYield" : 0,
						"saveState" : 438,
						"restoreState" : 438,
						"isEOF" : 1,
						"invalidates" : 0,
						"keyPattern" : {
							"_id" : 1
						},
						"indexName" : "_id_",
						"isMultiKey" : false,
						"multiKeyPaths" : {
							"_id" : [ ]
						},
						"isUnique" : true,
						"isSparse" : false,
						"isPartial" : false,
						"indexVersion" : 2,
						"direction" : "forward",
						"indexBounds" : {
							"_id" : [
								"[\"Offer\", \"Offes\")",
								"[/^Offer/, /^Offer/]"
							]
						},
						"keysExamined" : 36501,
						"seeks" : 2,
						"dupsTested" : 0,
						"dupsDropped" : 0,
						"seenInvalidated" : 0
					}
				},
				{
					"stage" : "FETCH",
					"filter" : {
						"reviewFor" : {
							"$eq" : "Product1"
						}
					},
					"nReturned" : 5,
					"executionTimeMillisEstimate" : 451,
					"works" : 19181,
					"advanced" : 5,
					"needTime" : 19175,
					"needYield" : 0,
					"saveState" : 438,
					"restoreState" : 438,
					"isEOF" : 1,
					"invalidates" : 0,
					"docsExamined" : 19179,
					"alreadyHasObj" : 0,
					"inputStage" : {
						"stage" : "IXSCAN",
						"nReturned" : 19179,
						"executionTimeMillisEstimate" : 40,
						"works" : 19181,
						"advanced" : 19179,
						"needTime" : 1,
						"needYield" : 0,
						"saveState" : 438,
						"restoreState" : 438,
						"isEOF" : 1,
						"invalidates" : 0,
						"keyPattern" : {
							"_id" : 1
						},
						"indexName" : "_id_",
						"isMultiKey" : false,
						"multiKeyPaths" : {
							"_id" : [ ]
						},
						"isUnique" : true,
						"isSparse" : false,
						"isPartial" : false,
						"indexVersion" : 2,
						"direction" : "forward",
						"indexBounds" : {
							"_id" : [
								"[\"Review\", \"Reviex\")",
								"[/^Review/, /^Review/]"
							]
						},
						"keysExamined" : 19180,
						"seeks" : 2,
						"dupsTested" : 0,
						"dupsDropped" : 0,
						"seenInvalidated" : 0
					}
				}
			]
		}
	},
	"ts" : ISODate("2019-02-11T06:46:50.758Z"),
	"client" : "127.0.0.1",
	"appName" : "MongoDB Shell",
	"allUsers" : [ ],
	"user" : ""
}
{
	"op" : "query",
	"ns" : "jsonsubONEK.sub",
	"command" : {
		"find" : "sub",
		"filter" : {
			"_id" : "Product1"
		},
		"comment" : "JsonSUB_ONEmil_Query8_PArt1",
		"lsid" : {
			"id" : UUID("acd04f68-64a8-4010-9aa3-ca3085eb2c27")
		},
		"$db" : "jsonsubONEK"
	},
	"keysExamined" : 1,
	"docsExamined" : 1,
	"cursorExhausted" : true,
	"numYield" : 0,
	"nreturned" : 1,
	"locks" : {
		"Global" : {
			"acquireCount" : {
				"r" : NumberLong(1)
			}
		},
		"Database" : {
			"acquireCount" : {
				"r" : NumberLong(1)
			}
		},
		"Collection" : {
			"acquireCount" : {
				"r" : NumberLong(1)
			}
		}
	},
	"responseLength" : 2133,
	"protocol" : "op_msg",
	"millis" : 0,
	"planSummary" : "IDHACK",
	"execStats" : {
		"stage" : "IDHACK",
		"nReturned" : 1,
		"executionTimeMillisEstimate" : 0,
		"works" : 2,
		"advanced" : 1,
		"needTime" : 0,
		"needYield" : 0,
		"saveState" : 0,
		"restoreState" : 0,
		"isEOF" : 1,
		"invalidates" : 0,
		"keysExamined" : 1,
		"docsExamined" : 1
	},
	"ts" : ISODate("2019-02-11T06:47:05.706Z"),
	"client" : "127.0.0.1",
	"appName" : "MongoDB Shell",
	"allUsers" : [ ],
	"user" : ""
}
{
	"op" : "command",
	"ns" : "jsonsubONEK.sub",
	"command" : {
		"aggregate" : "sub",
		"pipeline" : [
			{
				"$match" : {
					"$and" : [
						{
							"_id" : /^Review/
						},
						{
							"language" : "zh"
						},
						{
							"reviewFor" : "Product1"
						}
					],
					"$comment" : "JsonSUB_ONEmil_Query8_PArt2_WITHOUT_Error"
				}
			},
			{
				"$lookup" : {
					"from" : "sub",
					"localField" : "reviewer",
					"foreignField" : "_id",
					"as" : "reviewer"
				}
			},
			{
				"$sort" : {
					"date" : -1
				}
			},
			{
				"$limit" : 20
			}
		],
		"allowDiskUse" : true,
		"cursor" : {
			
		},
		"lsid" : {
			"id" : UUID("acd04f68-64a8-4010-9aa3-ca3085eb2c27")
		},
		"$db" : "jsonsubONEK"
	},
	"keysExamined" : 19180,
	"docsExamined" : 19179,
	"hasSortStage" : true,
	"cursorExhausted" : true,
	"numYield" : 149,
	"nreturned" : 0,
	"locks" : {
		"Global" : {
			"acquireCount" : {
				"r" : NumberLong(152)
			}
		},
		"Database" : {
			"acquireCount" : {
				"r" : NumberLong(152)
			}
		},
		"Collection" : {
			"acquireCount" : {
				"r" : NumberLong(151)
			}
		}
	},
	"responseLength" : 104,
	"protocol" : "op_msg",
	"millis" : 86,
	"planSummary" : "IXSCAN { _id: 1 }",
	"ts" : ISODate("2019-02-11T06:47:05.814Z"),
	"client" : "127.0.0.1",
	"appName" : "MongoDB Shell",
	"allUsers" : [ ],
	"user" : ""
}
{
	"op" : "query",
	"ns" : "jsonsubONEK.sub",
	"command" : {
		"find" : "sub",
		"filter" : {
			"_id" : "Product1"
		},
		"comment" : "ORIGINAL_JsonSUB_ONEmil_Query8_PArt1",
		"lsid" : {
			"id" : UUID("acd04f68-64a8-4010-9aa3-ca3085eb2c27")
		},
		"$db" : "jsonsubONEK"
	},
	"keysExamined" : 1,
	"docsExamined" : 1,
	"cursorExhausted" : true,
	"numYield" : 0,
	"nreturned" : 1,
	"locks" : {
		"Global" : {
			"acquireCount" : {
				"r" : NumberLong(1)
			}
		},
		"Database" : {
			"acquireCount" : {
				"r" : NumberLong(1)
			}
		},
		"Collection" : {
			"acquireCount" : {
				"r" : NumberLong(1)
			}
		}
	},
	"responseLength" : 2133,
	"protocol" : "op_msg",
	"millis" : 0,
	"planSummary" : "IDHACK",
	"execStats" : {
		"stage" : "IDHACK",
		"nReturned" : 1,
		"executionTimeMillisEstimate" : 0,
		"works" : 2,
		"advanced" : 1,
		"needTime" : 0,
		"needYield" : 0,
		"saveState" : 0,
		"restoreState" : 0,
		"isEOF" : 1,
		"invalidates" : 0,
		"keysExamined" : 1,
		"docsExamined" : 1
	},
	"ts" : ISODate("2019-02-11T06:48:06.524Z"),
	"client" : "127.0.0.1",
	"appName" : "MongoDB Shell",
	"allUsers" : [ ],
	"user" : ""
}
{
	"op" : "command",
	"ns" : "jsonsubONEK.sub",
	"command" : {
		"aggregate" : "sub",
		"pipeline" : [
			{
				"$match" : {
					"$and" : [
						{
							"_id" : /^Review/
						},
						{
							"language" : "zh"
						},
						{
							"reviewFor" : "Product1"
						}
					],
					"$comment" : "JsonSUB_ONEmil_Query8_PArt2_ORIGINAL"
				}
			},
			{
				"$lookup" : {
					"from" : "sub",
					"localField" : "reviewer",
					"foreignField" : "_id",
					"as" : "reviewer"
				}
			},
			{
				"$sort" : {
					"date" : -1
				}
			},
			{
				"$limit" : 20
			}
		],
		"allowDiskUse" : true,
		"cursor" : {
			
		},
		"lsid" : {
			"id" : UUID("acd04f68-64a8-4010-9aa3-ca3085eb2c27")
		},
		"$db" : "jsonsubONEK"
	},
	"keysExamined" : 19180,
	"docsExamined" : 19179,
	"hasSortStage" : true,
	"cursorExhausted" : true,
	"numYield" : 149,
	"nreturned" : 0,
	"locks" : {
		"Global" : {
			"acquireCount" : {
				"r" : NumberLong(152)
			}
		},
		"Database" : {
			"acquireCount" : {
				"r" : NumberLong(152)
			}
		},
		"Collection" : {
			"acquireCount" : {
				"r" : NumberLong(151)
			}
		}
	},
	"responseLength" : 104,
	"protocol" : "op_msg",
	"millis" : 94,
	"planSummary" : "IXSCAN { _id: 1 }",
	"ts" : ISODate("2019-02-11T06:48:42.146Z"),
	"client" : "127.0.0.1",
	"appName" : "MongoDB Shell",
	"allUsers" : [ ],
	"user" : ""
}
{
	"op" : "command",
	"ns" : "jsonsubONEK.sub",
	"command" : {
		"aggregate" : "sub",
		"pipeline" : [
			{
				"$match" : {
					"_id" : /^Review/,
					"reviewer" : "Reviewer1089",
					"$comment" : "JsonSUB_ONEmil_Query9"
				}
			},
			{
				"$lookup" : {
					"from" : "sub",
					"localField" : "reviewer",
					"foreignField" : "_id",
					"as" : "tttt"
				}
			},
			{
				"$group" : {
					"_id" : "$tttt",
					"Reviews" : {
						"$push" : {
							"_id" : "$_id",
							"title" : "$title",
							"product" : "$reviewFor",
							"date" : "$date"
						}
					}
				}
			}
		],
		"allowDiskUse" : true,
		"cursor" : {
			
		},
		"lsid" : {
			"id" : UUID("acd04f68-64a8-4010-9aa3-ca3085eb2c27")
		},
		"$db" : "jsonsubONEK"
	},
	"keysExamined" : 19180,
	"docsExamined" : 19179,
	"cursorExhausted" : true,
	"numYield" : 149,
	"nreturned" : 0,
	"locks" : {
		"Global" : {
			"acquireCount" : {
				"r" : NumberLong(152)
			}
		},
		"Database" : {
			"acquireCount" : {
				"r" : NumberLong(152)
			}
		},
		"Collection" : {
			"acquireCount" : {
				"r" : NumberLong(151)
			}
		}
	},
	"responseLength" : 104,
	"protocol" : "op_msg",
	"millis" : 80,
	"planSummary" : "IXSCAN { _id: 1 }",
	"ts" : ISODate("2019-02-11T06:48:49.204Z"),
	"client" : "127.0.0.1",
	"appName" : "MongoDB Shell",
	"allUsers" : [ ],
	"user" : ""
}
{
	"op" : "query",
	"ns" : "jsonsubONEK.sub",
	"command" : {
		"find" : "sub",
		"filter" : {
			"_id" : /^Vendor/,
			"country" : "US"
		},
		"lsid" : {
			"id" : UUID("acd04f68-64a8-4010-9aa3-ca3085eb2c27")
		},
		"$db" : "jsonsubONEK"
	},
	"keysExamined" : 21,
	"docsExamined" : 21,
	"cursorExhausted" : true,
	"numYield" : 0,
	"nreturned" : 7,
	"locks" : {
		"Global" : {
			"acquireCount" : {
				"r" : NumberLong(1)
			}
		},
		"Database" : {
			"acquireCount" : {
				"r" : NumberLong(1)
			}
		},
		"Collection" : {
			"acquireCount" : {
				"r" : NumberLong(1)
			}
		}
	},
	"responseLength" : 3453,
	"protocol" : "op_msg",
	"millis" : 2,
	"planSummary" : "IXSCAN { _id: 1 }",
	"execStats" : {
		"stage" : "FETCH",
		"filter" : {
			"country" : {
				"$eq" : "US"
			}
		},
		"nReturned" : 7,
		"executionTimeMillisEstimate" : 0,
		"works" : 22,
		"advanced" : 7,
		"needTime" : 14,
		"needYield" : 0,
		"saveState" : 0,
		"restoreState" : 0,
		"isEOF" : 1,
		"invalidates" : 0,
		"docsExamined" : 21,
		"alreadyHasObj" : 0,
		"inputStage" : {
			"stage" : "IXSCAN",
			"nReturned" : 21,
			"executionTimeMillisEstimate" : 0,
			"works" : 22,
			"advanced" : 21,
			"needTime" : 0,
			"needYield" : 0,
			"saveState" : 0,
			"restoreState" : 0,
			"isEOF" : 1,
			"invalidates" : 0,
			"keyPattern" : {
				"_id" : 1
			},
			"indexName" : "_id_",
			"isMultiKey" : false,
			"multiKeyPaths" : {
				"_id" : [ ]
			},
			"isUnique" : true,
			"isSparse" : false,
			"isPartial" : false,
			"indexVersion" : 2,
			"direction" : "forward",
			"indexBounds" : {
				"_id" : [
					"[\"Vendor\", \"Vendos\")",
					"[/^Vendor/, /^Vendor/]"
				]
			},
			"keysExamined" : 21,
			"seeks" : 1,
			"dupsTested" : 0,
			"dupsDropped" : 0,
			"seenInvalidated" : 0
		}
	},
	"ts" : ISODate("2019-02-11T06:48:55.860Z"),
	"client" : "127.0.0.1",
	"appName" : "MongoDB Shell",
	"allUsers" : [ ],
	"user" : ""
}
{
	"op" : "query",
	"ns" : "jsonsubONEK.sub",
	"command" : {
		"find" : "sub",
		"filter" : {
			"$and" : [
				{
					"_id" : /^Offer/
				},
				{
					"date" : {
						"$gt" : ISODate("2005-04-03T00:00:00Z")
					}
				},
				{
					"deliveryDays" : {
						"$lte" : 4
					}
				},
				{
					"product" : "Product1"
				},
				{
					"vendor" : {
						"$in" : [
							"Vendor12",
							"Vendor17",
							"Vendor2",
							"Vendor21",
							"Vendor4",
							"Vendor7",
							"Vendor9"
						]
					}
				}
			]
		},
		"limit" : 10,
		"singleBatch" : false,
		"sort" : {
			"price" : 1
		},
		"comment" : "JsonSUB_ONEmil_Query10",
		"lsid" : {
			"id" : UUID("acd04f68-64a8-4010-9aa3-ca3085eb2c27")
		},
		"$db" : "jsonsubONEK"
	},
	"keysExamined" : 36501,
	"docsExamined" : 36500,
	"hasSortStage" : true,
	"cursorExhausted" : true,
	"numYield" : 285,
	"nreturned" : 1,
	"locks" : {
		"Global" : {
			"acquireCount" : {
				"r" : NumberLong(286)
			}
		},
		"Database" : {
			"acquireCount" : {
				"r" : NumberLong(286)
			}
		},
		"Collection" : {
			"acquireCount" : {
				"r" : NumberLong(286)
			}
		}
	},
	"responseLength" : 323,
	"protocol" : "op_msg",
	"millis" : 141,
	"planSummary" : "IXSCAN { _id: 1 }",
	"execStats" : {
		"stage" : "SORT",
		"nReturned" : 1,
		"executionTimeMillisEstimate" : 130,
		"works" : 36505,
		"advanced" : 1,
		"needTime" : 36503,
		"needYield" : 0,
		"saveState" : 285,
		"restoreState" : 285,
		"isEOF" : 1,
		"invalidates" : 0,
		"sortPattern" : {
			"price" : 1
		},
		"memUsage" : 224,
		"memLimit" : 33554432,
		"limitAmount" : 10,
		"inputStage" : {
			"stage" : "SORT_KEY_GENERATOR",
			"nReturned" : 1,
			"executionTimeMillisEstimate" : 130,
			"works" : 36503,
			"advanced" : 1,
			"needTime" : 36501,
			"needYield" : 0,
			"saveState" : 285,
			"restoreState" : 285,
			"isEOF" : 1,
			"invalidates" : 0,
			"inputStage" : {
				"stage" : "FETCH",
				"filter" : {
					"$and" : [
						{
							"product" : {
								"$eq" : "Product1"
							}
						},
						{
							"deliveryDays" : {
								"$lte" : 4
							}
						},
						{
							"date" : {
								"$gt" : ISODate("2005-04-03T00:00:00Z")
							}
						},
						{
							"vendor" : {
								"$in" : [
									"Vendor12",
									"Vendor17",
									"Vendor2",
									"Vendor21",
									"Vendor4",
									"Vendor7",
									"Vendor9"
								]
							}
						}
					]
				},
				"nReturned" : 1,
				"executionTimeMillisEstimate" : 130,
				"works" : 36502,
				"advanced" : 1,
				"needTime" : 36500,
				"needYield" : 0,
				"saveState" : 285,
				"restoreState" : 285,
				"isEOF" : 1,
				"invalidates" : 0,
				"docsExamined" : 36500,
				"alreadyHasObj" : 0,
				"inputStage" : {
					"stage" : "IXSCAN",
					"nReturned" : 36500,
					"executionTimeMillisEstimate" : 40,
					"works" : 36502,
					"advanced" : 36500,
					"needTime" : 1,
					"needYield" : 0,
					"saveState" : 285,
					"restoreState" : 285,
					"isEOF" : 1,
					"invalidates" : 0,
					"keyPattern" : {
						"_id" : 1
					},
					"indexName" : "_id_",
					"isMultiKey" : false,
					"multiKeyPaths" : {
						"_id" : [ ]
					},
					"isUnique" : true,
					"isSparse" : false,
					"isPartial" : false,
					"indexVersion" : 2,
					"direction" : "forward",
					"indexBounds" : {
						"_id" : [
							"[\"Offer\", \"Offes\")",
							"[/^Offer/, /^Offer/]"
						]
					},
					"keysExamined" : 36501,
					"seeks" : 2,
					"dupsTested" : 0,
					"dupsDropped" : 0,
					"seenInvalidated" : 0
				}
			}
		}
	},
	"ts" : ISODate("2019-02-11T06:48:56.003Z"),
	"client" : "127.0.0.1",
	"appName" : "MongoDB Shell",
	"allUsers" : [ ],
	"user" : ""
}
{
	"op" : "command",
	"ns" : "jsonsubONEK.sub",
	"command" : {
		"aggregate" : "sub",
		"pipeline" : [
			{
				"$match" : {
					"_id" : "Offer1",
					"$comment" : "JsonSUB_ONEmil_Query11"
				}
			},
			{
				"$lookup" : {
					"from" : "sub",
					"localField" : "product",
					"foreignField" : "_id",
					"as" : "product"
				}
			}
		],
		"allowDiskUse" : true,
		"cursor" : {
			
		},
		"lsid" : {
			"id" : UUID("acd04f68-64a8-4010-9aa3-ca3085eb2c27")
		},
		"$db" : "jsonsubONEK"
	},
	"keysExamined" : 1,
	"docsExamined" : 1,
	"cursorExhausted" : true,
	"numYield" : 0,
	"nreturned" : 1,
	"locks" : {
		"Global" : {
			"acquireCount" : {
				"r" : NumberLong(5)
			}
		},
		"Database" : {
			"acquireCount" : {
				"r" : NumberLong(5)
			}
		},
		"Collection" : {
			"acquireCount" : {
				"r" : NumberLong(4)
			}
		}
	},
	"responseLength" : 2172,
	"protocol" : "op_msg",
	"millis" : 0,
	"planSummary" : "IXSCAN { _id: 1 }",
	"ts" : ISODate("2019-02-11T06:49:01.132Z"),
	"client" : "127.0.0.1",
	"appName" : "MongoDB Shell",
	"allUsers" : [ ],
	"user" : ""
}
> 











###############################################################
Finishing Part:

> 
> exit
bye


sudo service mongod stop
sudo apt-get purge mongodb-org*
sudo rm -r /var/log/mongodb

sudo rm -r /var/lib/mongodb


ubuntu@dm:~$ sudo service mongod stop
ubuntu@dm:~$ sudo apt-get purge mongodb-org*
Reading package lists... Done
Building dependency tree       
Reading state information... Done
Note, selecting 'mongodb-org-unstable-tools' for glob 'mongodb-org*'
Note, selecting 'mongodb-org-mongos' for glob 'mongodb-org*'
Note, selecting 'mongodb-org-tools' for glob 'mongodb-org*'
Note, selecting 'mongodb-org-unstable-server' for glob 'mongodb-org*'
Note, selecting 'mongodb-org-unstable-shell' for glob 'mongodb-org*'
Note, selecting 'mongodb-org-shell' for glob 'mongodb-org*'
Note, selecting 'mongodb-org-unstable-mongos' for glob 'mongodb-org*'
Note, selecting 'mongodb-org-unstable' for glob 'mongodb-org*'
Note, selecting 'mongodb-org' for glob 'mongodb-org*'
Note, selecting 'mongodb-org-server' for glob 'mongodb-org*'
Package 'mongodb-org-unstable' is not installed, so not removed
Package 'mongodb-org-unstable-mongos' is not installed, so not removed
Package 'mongodb-org-unstable-server' is not installed, so not removed
Package 'mongodb-org-unstable-shell' is not installed, so not removed
Package 'mongodb-org-unstable-tools' is not installed, so not removed
The following package was automatically installed and is no longer required:
  libcurl3
Use 'sudo apt autoremove' to remove it.
The following packages will be REMOVED:
  mongodb-org* mongodb-org-mongos* mongodb-org-server* mongodb-org-shell* mongodb-org-tools*
0 upgraded, 0 newly installed, 5 to remove and 4 not upgraded.
After this operation, 254 MB disk space will be freed.
Do you want to continue? [Y/n] 
(Reading database ... 138603 files and directories currently installed.)
Removing mongodb-org (4.0.6) ...
Purging configuration files for mongodb-org (4.0.6) ...
Removing mongodb-org-mongos (4.0.6) ...
Removing mongodb-org-server (4.0.6) ...
Purging configuration files for mongodb-org-server (4.0.6) ...
Removing mongodb-org-shell (4.0.6) ...
Removing mongodb-org-tools (4.0.6) ...
Processing triggers for man-db (2.7.5-1) ...
ubuntu@dm:~$ sudo rm -r /var/log/mongodb
ubuntu@dm:~$ sudo rm -r /var/lib/mongodb






